<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Alpha 的真正来源 | 量化策略演示</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Noto+Sans+SC:wght@300;400;500;700&display=swap');
  :root {
    --neon-cyan: #00f5ff;
    --neon-pink: #ff006e;
    --neon-purple: #7b2fff;
    --bg: #030308;
    --text-dim: #4a5568;
  }
  * { margin: 0; padding: 0; box-sizing: border-box; }
  html, body { width: 100%; height: 100%; background: var(--bg); overflow: hidden; font-family: 'Noto Sans SC', sans-serif; }

  .stage {
    width: 100vw; height: 100vh;
    display: flex; align-items: center; justify-content: center;
    background: radial-gradient(ellipse at center, #0a0a20 0%, #030308 70%);
  }

  /* 16:9 响应式容器 */
  .frame-wrap {
    position: relative;
    box-shadow:
      0 0 0 1px rgba(0,245,255,0.15),
      0 0 60px rgba(0,245,255,0.06),
      0 0 120px rgba(0,0,0,0.9);
    transition: box-shadow 0.3s ease;
  }
  .frame-wrap::before, .frame-wrap::after {
    content: ''; position: absolute;
    width: 24px; height: 24px; z-index: 10; pointer-events: none;
  }
  .frame-wrap::before {
    top: -1px; left: -1px;
    border-top: 2px solid var(--neon-cyan);
    border-left: 2px solid var(--neon-cyan);
  }
  .frame-wrap::after {
    bottom: -1px; right: -1px;
    border-bottom: 2px solid var(--neon-cyan);
    border-right: 2px solid var(--neon-cyan);
  }
  /* 另外两个角 */
  .frame-wrap .corner-tr, .frame-wrap .corner-bl {
    position: absolute; width: 24px; height: 24px;
    z-index: 10; pointer-events: none;
  }
  .frame-wrap .corner-tr { top:-1px; right:-1px; border-top:2px solid var(--neon-cyan); border-right:2px solid var(--neon-cyan); }
  .frame-wrap .corner-bl { bottom:-1px; left:-1px; border-bottom:2px solid var(--neon-cyan); border-left:2px solid var(--neon-cyan); }

  iframe {
    display: block; border: none;
    width: 100%; height: 100%;
  }

  /* ===== 导航控件（角落，不占空间）===== */
  .nav-ctrl {
    position: fixed;
    bottom: 16px; right: 18px;
    display: flex; align-items: center; gap: 6px;
    z-index: 1000;
  }
  .nav-btn {
    width: 32px; height: 32px;
    border-radius: 3px;
    background: rgba(5, 5, 20, 0.85);
    border: 1px solid rgba(0,245,255,0.2);
    color: var(--neon-cyan);
    font-size: 13px; cursor: pointer;
    display: flex; align-items: center; justify-content: center;
    transition: all 0.2s ease;
    backdrop-filter: blur(8px);
    user-select: none;
    opacity: 0.7;
  }
  .nav-btn:hover { background: rgba(0,245,255,0.12); border-color: rgba(0,245,255,0.5); opacity: 1; }
  .nav-btn:active { transform: scale(0.95); }
  .nav-btn:disabled { opacity: 0.2; cursor: not-allowed; }
  .nav-btn svg { width: 14px; height: 14px; fill: currentColor; }

  /* 页码显示 */
  .page-indicator {
    font-family: 'Orbitron', monospace;
    font-size: 11px; letter-spacing: 2px;
    color: rgba(0,245,255,0.5);
    padding: 0 4px;
    min-width: 44px; text-align: center;
    user-select: none;
  }

  /* 全屏按钮 */
  .fullscreen-btn {
    width: 32px; height: 32px;
    border-radius: 3px;
    background: rgba(5, 5, 20, 0.85);
    border: 1px solid rgba(123,47,255,0.25);
    color: var(--neon-purple);
    font-size: 12px; cursor: pointer;
    display: flex; align-items: center; justify-content: center;
    transition: all 0.2s ease;
    backdrop-filter: blur(8px);
    opacity: 0.7;
    margin-left: 4px;
  }
  .fullscreen-btn:hover { background: rgba(123,47,255,0.12); border-color: rgba(123,47,255,0.5); opacity: 1; }

  /* 幻灯片切换过渡遮罩 */
  .transition-overlay {
    position: fixed; inset: 0; z-index: 500;
    background: #030308;
    opacity: 0; pointer-events: none;
    transition: opacity 0.18s ease;
  }
  .transition-overlay.active { opacity: 1; pointer-events: all; }

  /* 键盘提示（首次显示）*/
  .hint-toast {
    position: fixed;
    bottom: 60px; right: 18px;
    background: rgba(5,5,20,0.9);
    border: 1px solid rgba(0,245,255,0.2);
    border-radius: 4px;
    padding: 8px 14px;
    font-size: 11px; color: rgba(0,245,255,0.6);
    font-family: 'Orbitron', monospace;
    letter-spacing: 1px;
    backdrop-filter: blur(8px);
    z-index: 999;
    opacity: 0;
    transform: translateY(8px);
    transition: all 0.4s ease;
    pointer-events: none;
    line-height: 1.9;
  }
  .hint-toast.show { opacity: 1; transform: translateY(0); }

  /* 进度条 */
  .progress-bar-wrap {
    position: fixed;
    bottom: 0; left: 0; right: 0;
    height: 2px;
    background: rgba(0,245,255,0.05);
    z-index: 1000;
  }
  .progress-bar-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--neon-cyan), var(--neon-purple));
    transition: width 0.35s ease;
    box-shadow: 0 0 8px rgba(0,245,255,0.5);
  }
</style>
</head>
<body>
<div class="stage">
  <div class="frame-wrap" id="frameWrap">
    <div class="corner-tr"></div>
    <div class="corner-bl"></div>
    <iframe id="slideFrame" src="pages/01_cover.html" allowfullscreen></iframe>
  </div>
</div>

<!-- 切换遮罩 -->
<div class="transition-overlay" id="overlay"></div>

<!-- 底部进度条 -->
<div class="progress-bar-wrap">
  <div class="progress-bar-fill" id="progressBar" style="width:12.5%"></div>
</div>

<!-- 导航控件 -->
<div class="nav-ctrl">
  <button class="nav-btn" id="btnPrev" title="上一页 (←)" disabled>
    <svg viewBox="0 0 24 24"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>
  </button>
  <div class="page-indicator" id="pageIndicator">01 / 08</div>
  <button class="nav-btn" id="btnNext" title="下一页 (→)">
    <svg viewBox="0 0 24 24"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>
  </button>
  <button class="fullscreen-btn" id="btnFullscreen" title="全屏 (F)">
    <svg viewBox="0 0 24 24" width="14" height="14" fill="currentColor">
      <path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>
    </svg>
  </button>
</div>

<!-- 键盘提示 -->
<div class="hint-toast" id="hintToast">
  ← → 翻页 &nbsp;|&nbsp; F 全屏 &nbsp;|&nbsp; ESC 退出
</div>

<script>
  const slides = [
    'pages/01_cover.html',
    'pages/02_question.html',
    'pages/03_two_camps.html',
    'pages/04_finding1.html',
    'pages/05_finding2.html',
    'pages/06_alpha_nature.html',
    'pages/07_methodology.html',
    'pages/08_conclusion.html',
  ];
  const TOTAL = slides.length;
  let current = 0;
  let transitioning = false;

  const frame = document.getElementById('slideFrame');
  const overlay = document.getElementById('overlay');
  const btnPrev = document.getElementById('btnPrev');
  const btnNext = document.getElementById('btnNext');
  const indicator = document.getElementById('pageIndicator');
  const progressBar = document.getElementById('progressBar');
  const frameWrap = document.getElementById('frameWrap');
  const hintToast = document.getElementById('hintToast');

  // 响应式 16:9 缩放
  function resizeFrame() {
    const vw = window.innerWidth;
    const vh = window.innerHeight;
    let w, h;
    if (vw / vh > 16 / 9) {
      h = vh * 0.96;
      w = h * (16 / 9);
    } else {
      w = vw * 0.97;
      h = w * (9 / 16);
    }
    frameWrap.style.width = w + 'px';
    frameWrap.style.height = h + 'px';
  }
  resizeFrame();
  window.addEventListener('resize', resizeFrame);

  // 更新 UI 状态
  function updateUI() {
    const pad = (n) => String(n).padStart(2, '0');
    indicator.textContent = `${pad(current + 1)} / ${pad(TOTAL)}`;
    btnPrev.disabled = current === 0;
    btnNext.disabled = current === TOTAL - 1;
    progressBar.style.width = ((current + 1) / TOTAL * 100) + '%';
  }

  // 切换页面
  function goTo(index, direction = 1) {
    if (transitioning || index < 0 || index >= TOTAL || index === current) return;
    transitioning = true;

    overlay.classList.add('active');
    setTimeout(() => {
      current = index;
      frame.src = slides[current];
      updateUI();
      setTimeout(() => {
        overlay.classList.remove('active');
        transitioning = false;
      }, 200);
    }, 180);
  }

  function next() { goTo(current + 1, 1); }
  function prev() { goTo(current - 1, -1); }

  btnNext.addEventListener('click', next);
  btnPrev.addEventListener('click', prev);

  // 键盘控制
  document.addEventListener('keydown', (e) => {
    switch(e.key) {
      case 'ArrowRight': case 'ArrowDown': case 'PageDown': case ' ':
        e.preventDefault(); next(); break;
      case 'ArrowLeft': case 'ArrowUp': case 'PageUp':
        e.preventDefault(); prev(); break;
      case 'f': case 'F':
        toggleFullscreen(); break;
      case 'Escape':
        if (document.fullscreenElement) document.exitFullscreen(); break;
      case 'Home':
        goTo(0); break;
      case 'End':
        goTo(TOTAL - 1); break;
    }
  });

  // 全屏
  function toggleFullscreen() {
    if (!document.fullscreenElement) {
      document.documentElement.requestFullscreen().catch(() => {});
    } else {
      document.exitFullscreen();
    }
  }
  document.getElementById('btnFullscreen').addEventListener('click', toggleFullscreen);

  // 鼠标滚轮翻页
  let wheelCooldown = false;
  window.addEventListener('wheel', (e) => {
    if (wheelCooldown) return;
    wheelCooldown = true;
    if (e.deltaY > 0) next(); else prev();
    setTimeout(() => { wheelCooldown = false; }, 600);
  }, { passive: true });

  // 触摸翻页
  let touchStartX = 0, touchStartY = 0;
  window.addEventListener('touchstart', (e) => {
    touchStartX = e.touches[0].clientX;
    touchStartY = e.touches[0].clientY;
  }, { passive: true });
  window.addEventListener('touchend', (e) => {
    const dx = e.changedTouches[0].clientX - touchStartX;
    const dy = e.changedTouches[0].clientY - touchStartY;
    if (Math.abs(dx) > Math.abs(dy) && Math.abs(dx) > 50) {
      if (dx < 0) next(); else prev();
    }
  }, { passive: true });

  // 首次显示键盘提示
  setTimeout(() => {
    hintToast.classList.add('show');
    setTimeout(() => { hintToast.classList.remove('show'); }, 3500);
  }, 1200);

  updateUI();
</script>
</body>
</html>
